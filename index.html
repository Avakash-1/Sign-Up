<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="stylesheet" href="styles/style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body style="visibility: hidden;">
    <div class="avatar-bar">
        <img id="avatarImg" src="https://ui-avatars.com/api/?name=Guest&background=6e45e2&color=fff&rounded=true" alt="Avatar" class="avatar-img">
        <input type="file" id="avatarInput" accept="image/*" style="display:none;">
        <button id="changeAvatarBtn" class="avatar-btn">Change Avatar</button>
        <button id="messagesBtn" class="avatar-btn" style="display: none;">âœ‰ï¸ Messages</button>
    </div>
    <div class="signup-container">
        <button class="dark-mode-toggle">ğŸŒ™</button>
        <h2>Sign Up</h2>
        <form id="signupForm">
            <input type="text" id="username" placeholder="Username" required>
            <div style="position:relative;">
                <input type="password" id="password" placeholder="Password" required>
                <button type="button" id="toggleSignupPassword" class="show-btn">Show</button>
            </div>
            <button type="submit">Sign Up</button>
        </form>
        <p id="message"></p>
        <a href="#" id="showLogin">Already have an account? Log in</a>
    </div>
    <div class="login-container" style="display:none;">
        <button class="dark-mode-toggle">ğŸŒ™</button>
        <h2>Log In</h2>
        <form id="loginForm">
            <input type="text" id="loginUsername" placeholder="Username" required>
            <div style="position:relative;">
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button type="button" id="toggleLoginPassword" class="show-btn">Show</button>
            </div>
            <button type="submit">Log In</button>
        </form>
        <p id="loginMessage"></p>
        <a href="#" id="showSignup">Don't have an account? Sign up</a>
    </div>
    <div class="comments-container" style="display:none;">
        <button class="dark-mode-toggle">ğŸŒ™</button>
        <h2>Comments & Reviews</h2>
        <p class="markdown-info">Supports **Markdown** formatting.</p>
        <form id="commentForm">
            <div class="textarea-wrapper">
                <textarea id="commentInput" placeholder="Write your comment or review..."></textarea>
                <button type="button" id="emojiBtn">ğŸ˜€</button>
            </div>
            <div class="form-actions">
                <input type="file" id="commentFileInput" accept="image/*,video/*" style="display: none;">
                <button type="button" id="attachFileBtn" class="secondary-btn">ğŸ“ Attach File</button>
                <button type="submit">Post</button>
            </div>
            <span id="fileName" class="file-name-display"></span>
        </form>
        <div class="comments-toolbar">
            <input type="text" id="searchInput" placeholder="Search comments...">
            <label for="sortComments">Sort by:</label>
            <select id="sortComments">
                <option value="newest">Newest</option>
                <option value="oldest">Oldest</option>
                <option value="most-liked">Most Liked</option>
            </select>
        </div>
        <div id="commentsList"></div>
        <button id="showFeedbackBtn" style="margin-top:2em;">Go to Feedback</button>
        <button id="logoutBtn" style="margin-top:1em;">Log Out</button>
    </div>
    <div class="profile-container" style="display:none;">
        <button class="dark-mode-toggle">ğŸŒ™</button>
        <div id="profileHeader">
            <img id="profileAvatar" src="" alt="User Avatar" class="avatar-img">
            <div class="profile-main-info">
                <h2 id="profileUsername"></h2>
                <button id="messageUserBtn" class="avatar-btn">Message</button>
            </div>
        </div>
        <h3>User's Comments</h3>
        <div id="profileCommentsList"></div>
        <button id="backToCommentsBtn" style="margin-top:2em;">Back to All Comments</button>
    </div>
    <div class="messaging-container" style="display:none;">
        <button class="dark-mode-toggle">ğŸŒ™</button>
        <h2>Direct Messages</h2>
        <div class="chat-layout">
            <div id="userList" class="user-list-panel">
                </div>
            <div id="chatWindow" class="chat-window-panel">
                <div id="chatHeader" class="chat-header">Select a user to start chatting</div>
                <div id="messageList" class="message-list"></div>
                <form id="messageForm" class="message-form">
                    <input type="text" id="messageInput" placeholder="Type a message..." autocomplete="off">
                    <button type="submit">Send</button>
                </form>
            </div>
        </div>
        <button id="backToCommentsFromMessagesBtn" style="margin-top:1em;">Back to Comments</button>
    </div>
    <div class="feedback-container" style="display:none;">
        <button class="dark-mode-toggle">ğŸŒ™</button>
        <h2>Feedback</h2>
        <form id="feedbackForm">
            <textarea id="feedbackInput" placeholder="Your feedback..." required></textarea>
            <button type="submit">Send Feedback</button>
        </form>
        <p id="feedbackMessage" style="display: none; color: #2193b0; font-weight: bold; margin-top: 1em;"></p>
        <div id="feedbackList"></div>
        <button id="backToCommentsFromFeedbackBtn" style="margin-top:2em;">Back to Comments</button>
    </div>

    <div id="floatingChatTab" class="floating-chat-tab" style="display: none;">
        <div id="chatTabHeader" class="chat-tab-header">
            <span>Messages</span>
            <span id="chatTabToggle">-</span>
        </div>
        <div id="chatTabBody" class="chat-tab-body">
            </div>
    </div>

    <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
    <script src="Javascript/main.js"></script>
</body>
</html>